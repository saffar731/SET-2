<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAFAR EDGE // ARCHIVE_01</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=JetBrains+Mono:wght@300;700&display=swap');
        
        :root { --neon: #00f3ff; --pink: #ff00ff; --danger: #ff3131; --bg: #020203; }
        
        body { 
            background: var(--bg); color: #fff; font-family: 'JetBrains Mono', monospace; overflow-x: hidden;
            background-image: radial-gradient(circle at 50% 50%, #0a0a12 0%, #020203 100%);
        }

        /* Cyberpunk Grid Background */
        .grid-bg {
            position: fixed; inset: 0; pointer-events: none; z-index: -1;
            background-image: linear-gradient(to right, rgba(0, 243, 255, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(0, 243, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .cyber-panel {
            background: rgba(5, 5, 10, 0.8); border: 1px solid var(--neon);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.1);
            position: relative; overflow: hidden;
        }

        .cyber-panel::before {
            content: ""; position: absolute; top: 0; left: 0; width: 4px; height: 100%;
            background: var(--neon); box-shadow: 0 0 10px var(--neon);
        }

        .glitch-header {
            font-family: 'Orbitron', sans-serif; font-weight: 900; font-style: italic;
            text-transform: uppercase; color: #fff; text-shadow: 2px 2px var(--pink);
        }

        /* Neural Storage Bar */
        .storage-track { height: 8px; background: #0a0a0f; border: 1px solid #1a1a2e; border-radius: 2px; }
        .storage-bar { height: 100%; background: linear-gradient(90deg, var(--neon), var(--pink)); box-shadow: 0 0 15px var(--neon); transition: width 1s cubic-bezier(0.4, 0, 0.2, 1); }

        .btn-action { transition: 0.2s; border: 1px solid transparent; }
        .btn-download { color: var(--neon); border-color: var(--neon); }
        .btn-download:hover { background: var(--neon); color: #000; box-shadow: 0 0 20px var(--neon); }
        
        .btn-delete { color: var(--danger); border-color: var(--danger); }
        .btn-delete:hover { background: var(--danger); color: #fff; box-shadow: 0 0 20px var(--danger); }

        /* Scanning Line Animation */
        .scanline {
            width: 100%; height: 2px; background: rgba(0, 243, 255, 0.1);
            position: fixed; top: 0; left: 0; z-index: 999;
            animation: scan 4s linear infinite; pointer-events: none;
        }
        @keyframes scan { 0% { top: -10%; } 100% { top: 110%; } }
    </style>
</head>
<body class="p-6">
    <div class="grid-bg"></div>
    <div class="scanline"></div>

    <header class="max-w-7xl mx-auto mb-12 flex flex-col md:flex-row items-center justify-between gap-6">
        <div class="text-center md:text-left">
            <h1 class="text-5xl glitch-header">Safar Edge_v4</h1>
            <p class="text-cyan-500 font-bold text-xs tracking-[0.4em] mt-2 uppercase opacity-60">Neural Storage Protocol Activated</p>
        </div>

        <div class="w-full md:w-96 bg-black/40 p-4 border border-white/5 rounded-lg">
            <div class="flex justify-between text-[10px] uppercase font-bold mb-2">
                <span class="text-white/50">Storage Load</span>
                <span class="text-cyan-400">{{ used_gb }} GB / 100,000 GB</span>
            </div>
            <div class="storage-track">
                <div class="storage-bar" style="width: {{ percent }}%"></div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-8">
        <aside class="lg:col-span-1">
            <div class="cyber-panel p-6">
                <h3 class="text-xs font-black uppercase tracking-widest text-pink-500 mb-6">Inject Data Stream</h3>
                <form action="/upload" method="POST" enctype="multipart/form-data">
                    <label class="block border-2 border-dashed border-cyan-900/50 hover:border-cyan-400/50 p-8 text-center cursor-pointer transition-all mb-4 group">
                        <input type="file" name="file" webkitdirectory directory multiple class="hidden" onchange="this.form.submit()">
                        <i data-lucide="folder-plus" class="w-10 h-10 mx-auto mb-3 text-cyan-900 group-hover:text-cyan-400"></i>
                        <p class="text-[10px] uppercase font-bold text-white/30">Select Workspace</p>
                    </label>
                    <p class="text-[9px] text-center text-white/20 italic italic uppercase">Max Packet: 100 TB</p>
                </form>
            </div>
        </aside>

        <div class="lg:col-span-3">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold uppercase tracking-tighter flex items-center gap-2">
                    <span class="w-2 h-2 bg-cyan-500 animate-pulse"></span> Active Archives
                </h2>
            </div>

            <div class="grid gap-4">
                {% if items %}
                    {% for item in items %}
                    <div class="cyber-panel p-5 flex items-center justify-between group">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 flex items-center justify-center bg-cyan-500/5 border border-cyan-500/20">
                                <i data-lucide="{{ 'folder' if item.is_dir else 'file-text' }}" class="text-cyan-400 w-5 h-5"></i>
                            </div>
                            <div>
                                <h4 class="font-bold tracking-tight text-white/90 uppercase text-sm">{{ item.name }}</h4>
                                <p class="text-[10px] text-cyan-700 font-bold uppercase">{{ 'Directory' if item.is_dir else 'Static File' }}</p>
                            </div>
                        </div>

                        <div class="flex gap-2">
                            <a href="/download/{{ item.name }}" class="p-3 btn-action btn-download rounded-sm">
                                <i data-lucide="download" class="w-4 h-4"></i>
                            </a>
                            <a href="/delete/{{ item.name }}" 
                               onclick="return confirm('Confirm data purge?')" 
                               class="p-3 btn-action btn-delete rounded-sm">
                                <i data-lucide="trash-2" class="w-4 h-4"></i>
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="border border-white/5 bg-white/5 py-20 text-center rounded-lg">
                        <p class="text-white/20 uppercase text-xs font-bold tracking-[0.3em]">No Data Found in Current Sector</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </main>

    <script>
        lucide.createIcons();
    </script>
</body>
</html>
